import os
from collections import OrderedDict
from configparser import ConfigParser
from xdg import BaseDirectory

"""Manage general user configuration stored in xdg_config_home/user_config.ini

Require the pyxdg library."""


class UserConfig(ConfigParser):
    """Wraps ConfigParser class. Basically set a default configuration file."""
    def __init__(self):
        """Constructor. Load default configuration file."""
        self.path = os.path.join(BaseDirectory.xdg_config_home,
                                 "user_config.ini")
        super().__init__()
        self.read()

    def read(self):
        """Read configuration from the default config file."""
        super().read(self.path)

    def read_file(self):
        """Read configuration from the default config file."""
        self.read()

    def write(self):
        """Write configuration to the default config file."""
        with open(self.path, 'w') as config_file:
            super().write(config_file)
